{"version":3,"file":"main.js","sourceRoot":"","sources":["../src/main/main.ts"],"names":[],"mappings":";;;;;;;;;;AAAA,uCAA+B;AAC/B,6BAA6B;AAC7B,iCAAiC;AAEjC,+BAA8B;AAE9B,IAAI,QAAa,CAAC;AAElB,cAAG,CAAC,EAAE,CAAC,OAAO,EAAE,GAAS,EAAE;IACzB,IAAI,GAAG,GAAG,IAAI,IAAI,CAAC,GAAG,EAAE,CAAC;IACzB,GAAG,CAAC,MAAM,CAAC,MAAM,EAAE,IAAI,CAAC,MAAM,CAAC,aAAS,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC,CAAC;IACpD,QAAQ,GAAG,MAAM,MAAM,CAAC,eAAe,CAAC,gBAAgB,CAAC,CAAC;IAC1D,IAAI,MAAM,GAAG,IAAI,IAAI,CAAC,MAAM,EAAE,CAAC;IAC/B,OAAO,CAAC,GAAG,CAAC,YAAY,CAAC,CAAC;IAC1B,OAAO,CAAC,GAAG,CAAC,aAAS,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC;IAChC,MAAM,MAAM,CAAC,KAAK,CAAC,QAAQ,EAAE,GAAG,CAAC,CAAC;AACpC,CAAC,CAAA,CAAC,CAAC;AAEH,oCAAoC;AACpC,cAAG,CAAC,EAAE,CAAC,mBAAmB,EAAE,GAAG,EAAE;IAC/B,2DAA2D;IAC3D,8DAA8D;IAC9D,IAAI,OAAO,CAAC,QAAQ,KAAK,QAAQ,EAAE;QACjC,cAAG,CAAC,IAAI,EAAE,CAAC;KACZ;AACH,CAAC,CAAC,CAAC;AAEH,cAAG,CAAC,EAAE,CAAC,aAAa,EAAE,GAAG,EAAE;AAE3B,CAAC,CAAC,CAAC","sourcesContent":["import { app } from \"electron\";\nimport * as qrpc from \"qrpc\";\nimport * as libmux from \"libmux\";\n\nimport apimodule from \"./api\";\n\nlet listener: any;\n\napp.on(\"ready\", async () => {\n  var api = new qrpc.API();\n  api.handle(\"dock\", qrpc.Export(apimodule.app.dock));\n  listener = await libmux.ListenWebsocket(\"localhost:4242\");\n  var server = new qrpc.Server();\n  console.log(\"serving...\"); \n  console.log(apimodule.app.dock);\n  await server.serve(listener, api);\n});\n\n// Quit when all windows are closed.\napp.on(\"window-all-closed\", () => {\n  // On OS X it is common for applications and their menu bar\n  // to stay active until the user quits explicitly with Cmd + Q\n  if (process.platform !== \"darwin\") {\n    app.quit();\n  }\n});\n\napp.on(\"before-quit\", () => {\n\n});\n"]}